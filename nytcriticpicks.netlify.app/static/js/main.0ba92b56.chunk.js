(this["webpackJsonpmovie-review-app"]=this["webpackJsonpmovie-review-app"]||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},15:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(6),r=a.n(c),i=(a(15),a(3)),s=a.n(i),o=a(7),m=a(1),u=(a(5),a(2)),p=a(8);var b=function(e){var t=e.link,a=e.title,c=e.description,r=e.image,i=e.year,s=e.month,o=e.day,b=Object(u.b)(),v=Object(p.a)(),E=Object(m.a)(v,2),h=E[0],d=E[1];return Object(n.useEffect)((function(){d&&b.start("visible")}),[b,d]),l.a.createElement(u.a.a,{href:t,target:"_blank",rel:"noopener noreferrer",variants:{hidden:{opacity:0,y:200},visible:{opacity:1,y:0},tap:{scale:.9}},ref:h,initial:"hidden",animate:b,whileTap:"tap"},l.a.createElement("div",{className:"movie-container"},l.a.createElement("h1",{className:"movie-title"},a),l.a.createElement("hr",null),l.a.createElement("p",{className:"movie-description"},c),l.a.createElement("img",{className:"movie-image",src:r,alt:a}),l.a.createElement("p",{className:"movie-year"},"Published: ",s,"/",o,"/",i)))},v=a(9),E=a.n(v);var h=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(0),i=Object(m.a)(r,2),p=i[0],v=i[1],h=Object(n.useState)(),d=Object(m.a)(h,2),f=d[0],g=d[1],y=Object(n.useState)("by-opening-date"),j=Object(m.a)(y,2),N=j[0],O=j[1],k=Object(n.useState)(""),w=Object(m.a)(k,2),S=w[0],T=w[1],_=Object(n.useState)(""),x=Object(m.a)(_,2),P=x[0],C=x[1],B=Object(n.useState)(!1),H=Object(m.a)(B,2),F=H[0],I=H[1],J=function(){f&&v(p+20)},M=function(){0!==p&&v(p-20)};Object(n.useEffect)((function(){A()}),[p,N,P]);var A=function(){var e=Object(o.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.next=3,fetch("https://api.nytimes.com/svc/movies/v2/reviews/picks.json?api-key=".concat("pkHjVPMSv0I48ATgtjYQBaDyGJGIszNk","&offset=").concat(p,"&order=").concat(N,"&query=").concat(P));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,c(a.results),g(a.has_more),I(!1),console.log(a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"App"},l.a.createElement("header",null,l.a.createElement("h1",null,"The New York Times Critic's Picks",l.a.createElement("span",{"aria-label":"movie camera",role:"img"},"\ud83c\udfa5")),l.a.createElement("div",{className:"search-container"}),l.a.createElement("div",{className:"sort-and-search-container"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),v(0),C(S)}},l.a.createElement("input",{type:"search",placeholder:"Search",value:S,onChange:function(e){T(e.target.value)}}),l.a.createElement("button",null,l.a.createElement("i",{className:"fa fa-search"}))),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"sortBy"},"Sort By: "),l.a.createElement("select",{id:"sortBy",value:N,onChange:function(e){O(e.target.value),v(0),console.log(N)}},l.a.createElement("option",{value:"by-opening-date"},"Most Recent"),l.a.createElement("option",{value:"by-publication-date"},"Oldest"),l.a.createElement("option",{value:"by-title"},"Title")))),l.a.createElement("nav",null,0!==p&&l.a.createElement(u.a.button,{className:"prev-page-btn",onClick:M,whileHover:{scale:1.1},whileTap:{scale:.9}},l.a.createElement("span",{role:"img"},"\u276e")," Previous Page"),f&&l.a.createElement(u.a.button,{className:"next-page-btn",onClick:J,whileHover:{scale:1.1},whileTap:{scale:.9}},"Next Page ",l.a.createElement("span",{role:"img"},"\u276f")))),!F&&l.a.createElement(u.a.div,{className:"movie-list"},0===a.length&&l.a.createElement("h2",null,"No results"),a.map((function(e,t){return l.a.createElement(b,{key:t,link:e.link.url,title:null===e.display_title?"No Title Found":e.display_title,description:null===e.summary_short?"No Summary Found":e.summary_short,image:null===e.multimedia?E.a:e.multimedia.src,year:e.publication_date.substring(0,4),month:e.publication_date.substring(5,7),day:e.publication_date.substring(8,10)})}))),!F&&l.a.createElement("footer",null,l.a.createElement("nav",null,0!==p&&l.a.createElement(u.a.button,{className:"prev-page-btn",onClick:M,whileHover:{scale:1.1},whileTap:{scale:.9}},l.a.createElement("span",{role:"img"},"\u276e")," Previous Page"),f&&l.a.createElement(u.a.button,{className:"next-page-btn",onClick:J,whileHover:{scale:1.1},whileTap:{scale:.9}},"Next Page ",l.a.createElement("span",{role:"img"},"\u276f")))))};r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(h,null)),document.getElementById("root"))},5:function(e,t,a){},9:function(e,t,a){e.exports=a.p+"static/media/film_reel-min.51b037ba.jpg"}},[[10,1,2]]]);
//# sourceMappingURL=main.0ba92b56.chunk.js.map